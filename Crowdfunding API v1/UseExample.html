<!DOCTYPE html>
<html>
<head>
    <!-- be carefull you may have cross platform html errors depending on your server that you must overide  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $("button").click(function () {
                $.ajax({
                    url: 'https://apis.nbg.gr/public/sandbox/crowdfunding/v1/externaldata/donations/wall',
                    type: 'GET',
                    data: {},
                    headers: {
                        'x-ibm-client-id': "459b40c6-4c22-47e5-9dbb-a89da1aca32d", // "REPLACE_THIS_KEY_WITH_YOUR_CLIENT_ID"
                        'sandbox_id': "nottobeused", // "REPLACE_THIS_ID_WITH_YOUR_SANDBOX_ID"
                        'username': "user1",
                        'user_id': "4735c448-bf3c-4d54-a81b-f5a95f116165",
                        'provider_id': "NBG.gr",
                        'provider': "NBG",
                        'from_date': "01.01.2010",
                        'to_date': "19.11.2018",
                        'accept': "text/json"
                    },
                    success: function (data) {
                        console.log(data.payload.donationPromises);
                        alert("ok checkconsolelog");
                        list = "<div class='dataclass'>"
                        list += "<ul>" +
                            "<li>" + "actionKey" + "</li>" +
                            "<li>" +"displayName" + "</li>" +
                            "<li>" +"xpAmount" + "</li>" +
                            "<li>" +"donationTime" + "</li>" +
                            "</ul>";
                        for (i = 0; i < data.payload.donationPromises.length; i++) {
                            list += "<ul>" +
                                "<li>" + data.payload.donationPromises[i].actionKey + "</li>" +
                                "<li>" + data.payload.donationPromises[i].displayName + "</li>" +
                                "<li>" + data.payload.donationPromises[i].xpAmount + "</li>" +
                                "<li>" + data.payload.donationPromises[i].donationTime + "</li>" +
                                "</ul>";
                        }
                        list += "</div>"
                        $(".dataclass").replaceWith(list);
                    },
                    error: function (data, errorThrown) {
                        alert(errorThrown);
                    }
                });
            });
        });
    </script>
    <style>
        * {
            box-sizing: border-box;
        }
        button {
            margin: 0 auto;
            display: block;
        }
        ul {
            list-style-type: none;
            width: 100%;
            display: flex;
            flex-wrap: wrap;
        }

        li {
            flex: 0 0 24%;
            border: 1px solid grey;
            padding: 1em;
            display: flex;
            align-items: flex-end;
        }
    </style>
</head>
<body>
    <button> Send an HTTP GET request to get all the public dontions to create a Donation Wall </button>
    <div class="dataclass">    </div>
</body>
</html>
